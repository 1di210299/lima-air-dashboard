# Dashboard de Calidad del Aire - Lima

Sistema inteligente de monitoreo y predicciÃ³n de contaminaciÃ³n ambiental en Lima Metropolitana

## ğŸ“Š Estado del Proyecto

### âœ… COMPLETADAS

#### Fase 1: Ingesta y almacenamiento de datos âœ…

- âœ… Script de descarga automÃ¡tica desde portal SENAMHI
- âœ… Base de datos SQLite con tablas normalizadas
- âœ… Proceso ETL para inserciÃ³n de nuevos registros sin duplicados
- âœ… Ingesta horaria programada (68MB+ de datos histÃ³ricos)
- **Entregable**: Tablas pobladas con datos actualizados cada hora

#### Fase 2: Preprocesamiento y limpieza âœ…

- âœ… ValidaciÃ³n y limpieza de datos (eliminaciÃ³n/imputaciÃ³n de faltantes)
- âœ… Filtros de rango para lecturas anÃ³malas
- âœ… Columnas derivadas: hora, dÃ­a de semana, estaciÃ³n climÃ¡tica
- âœ… Series temporales agregadas por estaciÃ³n y distrito
- âœ… Datasets de entrenamiento generados
- **Entregable**: Dataset de series temporales listo para ML

#### Fase 3: Modelado y pronÃ³stico âœ…

- âœ… Modelos de regresiÃ³n entrenados:
  - PM10: Gradient Boosting (RÂ² = 0.6874)
  - NO2: Random Forest (RÂ² = 0.6523)
- âœ… Modelos de clasificaciÃ³n para calidad del aire
- âœ… Modelos guardados y listos para inferencia
- âœ… EvaluaciÃ³n con mÃ©tricas MAE/RMSE
- **Entregable**: Modelos ML entrenados y evaluados

#### Fase 5: Dashboard web âœ…

- âœ… Frontend React con TypeScript
- âœ… Mapa interactivo con estaciones de monitoreo
- âœ… GrÃ¡ficos de series temporales
- âœ… Widget de riesgo para corredores
- âœ… Interfaz responsiva y moderna
- **Entregable**: Dashboard funcional en React

### ğŸš§ EN PROGRESO / PENDIENTES

#### Fase 4: Backend y API ğŸ”„

- â³ **EN DESARROLLO**: API REST con FastAPI/Flask
- âŒ Endpoints faltantes:
  - `GET /current?district=XXX` â†’ mediciÃ³n actual + status
  - `GET /forecast?district=XXX` â†’ pronÃ³stico 48h
  - `GET /risk?district=XXX&age=YY&condition=ZZ` â†’ riesgo de correr
- âŒ CÃ¡lculo de "riesgo de correr" personalizado
- âŒ DocumentaciÃ³n API (Swagger/OpenAPI)
- **Prioridad**: ALTA - Necesario para conectar frontend con ML

#### Fase 6: Sistema de notificaciones âš ï¸

- âŒ **FALTA COMPLETAMENTE**
- âŒ IntegraciÃ³n con Twilio (WhatsApp/SMS)
- âŒ Base de datos de suscriptores
- âŒ Sistema de alertas automÃ¡ticas
- âŒ Endpoints POST /subscribe y /unsubscribe
- âŒ Scheduler para envÃ­o de notificaciones
- **Prioridad**: MEDIA - Valor agregado importante

#### Fase 7: Despliegue y monitoreo âš ï¸

- âŒ ContenedorizaciÃ³n con Docker
- âŒ Despliegue en cloud (AWS/Heroku/DigitalOcean)
- âŒ Dominio y HTTPS
- âŒ Monitoreo y logs (Prometheus/Grafana)
- **Prioridad**: BAJA - Para producciÃ³n

---

## ğŸ¯ Oportunidades de Negocio Identificadas

### 1. **App de alertas y consejos personalizados**

- âœ… Base tÃ©cnica: Dashboard + modelos ML listos
- ğŸ”„ Falta: Sistema de notificaciones (Fase 6)
- ğŸ’° MonetizaciÃ³n: Freemium, patrocinios de mascarillas/purificadores

### 2. **PronÃ³stico B2B con IA**

- âœ… Modelos entrenados con RÂ² > 0.65
- ğŸ”„ Falta: API empresarial
- ğŸ’° Target: Eventos, colegios, gimnasios

### 3. **Panel BI ambiental**

- âœ… Dashboard interactivo funcional
- ğŸ”„ Falta: PersonalizaciÃ³n y white-label
- ğŸ’° Target: Gobiernos locales, consultoras

### 4. **Chatbot de salud ambiental**

- âŒ Falta: IntegraciÃ³n con LLM (OpenAI/Claude)
- ğŸ’° Target: Instituciones de salud, medios

### 5. **APIs "smart city"**

- âœ… Datos procesados y modelos listos
- ğŸ”„ Falta: APIs RESTful documentadas
- ğŸ’° Target: Apps de movilidad, IoT, domÃ³tica

---

## ğŸ“Š Datos y Recursos

### Fuente de Datos

- **SENAMHI** - Portal Nacional de Datos Abiertos
- **Licencia**: Open Data Commons Attribution (100% pÃºblica)
- **Volumen actual**: 68MB+ datos histÃ³ricos
- **Frecuencia**: ActualizaciÃ³n horaria automÃ¡tica

### TecnologÃ­as Utilizadas

- **Backend**: Python, pandas, SQLite, scikit-learn
- **Frontend**: React, TypeScript, Leaflet, Chart.js
- **ML**: Gradient Boosting, Random Forest, LightGBM
- **Infraestructura**: Git, VS Code tasks

---

## ğŸš€ PrÃ³ximos Pasos Priorizados

### Inmediato (Esta semana)

1. **Completar API REST** (Fase 4)
   - Crear endpoints bÃ¡sicos con FastAPI
   - Integrar modelos ML para predicciones
   - Documentar con Swagger

### Corto plazo (2-4 semanas)

2. **Sistema de notificaciones** (Fase 6)
   - Configurar Twilio para WhatsApp/SMS
   - Base de datos de usuarios
   - Alertas automÃ¡ticas por umbrales

### Mediano plazo (1-3 meses)

3. **Despliegue y monetizaciÃ³n**
   - Dockerizar y desplegar en cloud
   - Implementar una idea de negocio piloto
   - Validar con usuarios reales

---

## ğŸ’¡ AnÃ¡lisis de Competencia

### Plataformas Globales

- **OpenAQ**: 231M+ mediciones, 65 paÃ­ses
- **WAQI**: Mapa global en tiempo real
- **BreezoMeter**: Adquirida por Google (2022)

### Oportunidad Local

- **Respira Limpio**: App local, redujo exposiciÃ³n 76%
- **Nuestro diferencial**:
  - Datos 100% pÃºblicos (sin dependencias)
  - ML predictivo personalizado
  - Enfoque en runners/deportistas
  - Alertas proactivas inteligentes

---

## ğŸ“ˆ Costos Estimados

| Concepto | Costo Mensual | Observaciones |
|----------|--------------|---------------|
| **Hosting + BD** | < $50 USD | Datos livianos, trÃ¡fico moderado |
| **API Conversacional** | $10-50 USD | ~1K consultas/mes (OpenAI) |
| **Twilio (SMS/WhatsApp)** | $20-100 USD | Depende de volumen alertas |
| **Dominio + SSL** | $10-20 USD | Anual |
| **TOTAL** | **$90-220 USD** | Escalable segÃºn usuarios |

**ROI potencial**: Con 100 usuarios premium ($5/mes) = $500 USD/mes de ingresos.

---

## ğŸ—ï¸ Arquitectura del Sistema

### Estructura del Proyecto

```
lima-air-dashboard/
â”œâ”€â”€ data/                           # 68MB+ datos histÃ³ricos
â”‚   â”œâ”€â”€ data.csv                    # Dataset principal SENAMHI
â”‚   â”œâ”€â”€ lima_air_quality.db         # Base de datos SQLite
â”‚   â””â”€â”€ aggregated/                 # Series temporales procesadas
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ data_ingestion/             # âœ… Descarga automÃ¡tica
â”‚   â”œâ”€â”€ preprocessing/              # âœ… Limpieza de datos
â”‚   â”œâ”€â”€ ml/                         # âœ… Modelos entrenados
â”‚   â”œâ”€â”€ database/                   # âœ… ConexiÃ³n BD
â”‚   â”œâ”€â”€ api/                        # âŒ FALTA IMPLEMENTAR
â”‚   â””â”€â”€ notifications/              # âŒ FALTA IMPLEMENTAR
â”œâ”€â”€ models/                         # âœ… Modelos ML guardados
â”œâ”€â”€ lima-air-dashboard-frontend/    # âœ… React Dashboard
â””â”€â”€ results/                        # âœ… Reportes y mÃ©tricas
```

### Flujo de Datos

```mermaid
graph TB
    A[SENAMHI Portal] --> B[Data Ingestion]
    B --> C[SQLite DB]
    C --> D[Preprocessing]
    D --> E[ML Models]
    E --> F[API Endpoints]
    F --> G[React Dashboard]
    F --> H[Notifications]
```

---

**Estado actual**: Proyecto tÃ©cnicamente sÃ³lido en **Fase 4-5**, listo para monetizaciÃ³n con completar API y notificaciones.

**UbicaciÃ³n de datos**: `/Users/juandiegogutierrezcortez/lima-air-dashboard/data/data.csv`

---

## ğŸ”§ CÃ³mo Ejecutar

### Prerrequisitos

- Python 3.11+
- Node.js 18+
- Git

### Backend

```bash
# Instalar dependencias
pip install -r requirements.txt

# Ejecutar ingesta de datos
python src/data_ingestion/downloader.py

# Entrenar modelos (opcional, ya estÃ¡n entrenados)
python scripts/fase3_ml_pipeline.py
```

### Frontend

```bash
cd lima-air-dashboard-frontend
npm install
npm start
```

### Tasks Disponibles

- **Ingesta de Datos - Horaria**: Descarga automÃ¡tica desde SENAMHI
- **Start React Dashboard**: Servidor de desarrollo frontend

---

## ğŸ“ Licencia

Este proyecto utiliza datos pÃºblicos de SENAMHI bajo licencia Open Data Commons Attribution.
